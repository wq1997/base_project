"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[552],{5552:function(ft,Ce,r){r.d(Ce,{Vy:function(){return je},OR:function(){return Ke},Zw:function(){return Je},bY:function(){return xe},Dx:function(){return se}});var oe=r(4552),t=r(62086),mt=function(){var n=useDispatch(),d=[{key:"dark",label:_jsx("span",{onClick:function(){u("dark")},children:"\u9ED1\u8272"})},{key:"white",label:_jsx("span",{onClick:function(){return u("default")},children:"\u9ED8\u8BA4"})}],u=function(C){n({type:"global/changeTheme",payload:{theme:C}})};return _jsx(Dropdown,{menu:{items:d},placement:"bottom",children:_jsx(Button,{children:"\u5207\u6362\u4E3B\u9898"})})},ht=null,ye={dark:{colorPrimary:"#197AD8",colorPrimaryR:"rgba(3,180,180,1)",colorBgContainer:"rgba(0,0,0,0)",colorBorder:"#FFFFFF",colorTextPlaceholder:"#D8D8D8",colorIcon:"rgba(255, 255, 255, 0.45)",titleColor:"#FFFFFF",smallTitleColor:"#D8D8D8",defaultBg:"#ED750E",bgcColorB_l:"linear-gradient(135deg, #00395A 0%, #0F2F56 100%)",bgcColorl_B:"linear-gradient(135deg, #00395A 0%, #0F2F56 100%)",sub_innerBgc:"",cardBgc:"#212849",cardShadow:"0px 2px 4px 0px rgba(6,7,16,0.5)",titleCardBgc:"#074267",areaCardBgc:"#0E4C73",tableHead:"#20284D",barColor:["#03B4B4","#A3BCE7","#FCF1AF","#77E2AA","#FFCE8F","#59C0E9"],treeBgb:"#03081D",lightTreeBgc:"#212849 ",lightTreeLineBgc:"#333F62",contentBgc:"#111838",darkbgc:"#0C122E",chartLineColor:["#03B4B4","#ED750E","#A97DFF","#4D4DF4","#EE3059","#2DD51E","#F4D81B","#4D4DF4"]},default:{colorPrimary:"#03B4B4",colorPrimaryR:"rgba(3,180,180,1)",colorBgContainer:"#FFFFFF",colorBorder:"#d9d9d9",colorTextPlaceholder:"rgba(0, 0, 0, 0.25)",colorIcon:"rgba(0, 0, 0, 0.45)",titleColor:"#333333",smallTitleColor:"#333333",defaultBg:"#ED750E",bgcColorB_l:"linear-gradient(135deg, #DADFEC 0%, #F9F9FA 100%)",bgcColorl_B:"linear-gradient(135deg, #F9F9FA 0%, #DADEEC 100%)",sub_innerBgc:"rgba(246, 246, 248, 0.38)",cardBgc:"rgba(255,255,255,1)",cardShadow:"0px 2px 4px 0px rgba(224, 224, 224, 0.5)",titleCardBgc:"#fff",tableHead:"#E4E7F1",barColor:["#03B4B4","#A3BCE7","#FCF1AF","#77E2AA","#FFCE8F","#59C0E9"],treeBgb:"#E9EBF3",lightTreeBgc:"#F2F4F9",lightTreeLineBgc:"#E6E9F2",contentBgc:"#111838",darkbgc:"#0C122E",chartLineColor:["#03B4B4","#ED750E","#A97DFF","#4D4DF4","#EE3059","#2DD51E","#F4D81B","#4D4DF4"]}},xe=ye,gt=function(){var n=useDispatch(),d=[{key:"dark",label:_jsx("span",{onClick:function(){u("zh-CN")},children:"\u4E2D\u6587"})},{key:"white",label:_jsx("span",{onClick:function(){return u("en-US")},children:"\u82F1\u6587"})}],u=function(C){n({type:"global/changeLanguage",payload:{locale:C}})};return _jsx(Dropdown,{menu:{items:d},placement:"bottom",children:_jsx(Button,{children:"\u5207\u6362\u8BED\u8A00"})})},Ct=null,F=r(93236),Q={card:"card___dFtH2",header:"header___a5d3V",filterPart:"filterPart___ykSDY",content:"content___VCHDU"},J=r(68308),Te={title:"title___QVWfk"},be=function(n){var d=n.title,u=J.Z.useToken(),c=u.token;return(0,t.jsx)("div",{className:Te.title,style:{color:c.titleColor},children:d})},se=be;function Fe(k){var n=J.Z.useToken(),d=n.token;return(0,F.useEffect)(function(){},[]),(0,t.jsxs)("div",{className:Q.card,style:{backgroundColor:(k==null?void 0:k.backgroundColor)||d.titleCardBgc},children:[(0,t.jsxs)("div",{className:Q.header,children:[(0,t.jsx)(se,{title:k.title}),(0,t.jsx)("div",{className:Q.filterPart,children:k.filterPart})]}),k.content&&(0,t.jsx)("div",{className:Q.content,children:k.content})]})}var je=Fe,De=r(82092),de=r.n(De),Ee=r(90228),O=r.n(Ee),Be=r(15558),ee=r.n(Be),ke=r(87999),te=r.n(ke),Se=r(26068),S=r.n(Se),pe=r(48305),M=r.n(pe),we=r(67825),ue=r.n(we),H=r(76072),Ie=r(7485),Y=r(48922),Ze=r(80233),Ae=r(54943),ne=r(95818),ce=r(52255),ae=r(86910),Pe=r(8432),Re=r(6126),Me=r(36525),$=r(66051),He=r(11333),le=r.n(He),X=function(n){return new Array(n).fill(0).map(function(d,u){return u<=9?"0".concat(u):"".concat(u)})},Le=function(n){var d=(0,oe.useIntl)(),u=H.Z.useForm(),c=M()(u,1),C=c[0],p=n.onChange,j=n.value;return(0,F.useEffect)(function(){if(j){var l,s,h,v,g=j.split("~"),f=g[0],E=g[1];C.setFieldsValue({startTime1:f==null||(l=f.split(":"))===null||l===void 0?void 0:l[0],endTime1:f==null||(s=f.split(":"))===null||s===void 0?void 0:s[1],startTime2:E==null||(h=E.split(":"))===null||h===void 0?void 0:h[0],endTime2:E==null||(v=E.split(":"))===null||v===void 0?void 0:v[1]})}},[j]),(0,t.jsx)(H.Z,{form:C,onValuesChange:te()(O()().mark(function l(){return O()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,C.validateFields();case 2:case"end":return h.stop()}},l)})),children:(0,t.jsx)(H.Z.Item,{name:"",style:{margin:0},dependencies:["startTime1","endTime1","startTime2","endTime2"],rules:[function(l){var s=l.getFieldValue;return{validator:function(v,g){var f=s("startTime1"),E=s("endTime1"),N=s("startTime2"),x=s("endTime2");if(f&&E&&N&&x){var W=le()("1997/05/05 ".concat(f,":").concat(E,":00")).isBefore(le()("1997/05/05 ".concat(N,":").concat(x,":00")));if(!W)return Promise.reject(d.formatMessage({id:"\u8D77\u59CB\u65F6\u95F4\u5E94\u8BE5\u65E9\u4E8E\u7ED3\u675F\u65F6\u95F4"}));p("".concat(f,":").concat(E,"~").concat(N,":").concat(x))}return Promise.resolve()}}}],required:!0,children:(0,t.jsxs)("div",{style:S()({display:"flex"},n.style||{}),children:[(0,t.jsxs)("div",{style:{display:"flex",width:"50%"},children:[(0,t.jsx)(H.Z.Item,{name:"startTime1",style:{width:"100%",margin:0},rules:[{required:!0,message:d.formatMessage({id:"\u5FC5\u586B"})}],children:(0,t.jsx)(Y.Z,{style:{width:"100%"},options:X(24).map(function(l){return{value:l,label:l}})})}),(0,t.jsx)("div",{style:{margin:"0 5px"},children:":"}),(0,t.jsx)(H.Z.Item,{name:"endTime1",style:{width:"100%",margin:0},rules:[{required:!0,message:d.formatMessage({id:"\u5FC5\u586B"})}],children:(0,t.jsx)(Y.Z,{style:{width:"100%"},options:X(60).map(function(l){return{value:l,label:l}})})})]}),(0,t.jsx)("div",{children:" ~ "}),(0,t.jsxs)("div",{style:{display:"flex",width:"50%"},children:[(0,t.jsx)(H.Z.Item,{name:"startTime2",style:{width:"100%",margin:0},rules:[{required:!0,message:d.formatMessage({id:"\u5FC5\u586B"})}],children:(0,t.jsx)(Y.Z,{style:{width:"100%"},options:X(24).map(function(l){return{value:l,label:l}})})}),(0,t.jsx)("div",{style:{margin:"0 5px"},children:":"}),(0,t.jsx)(H.Z.Item,{name:"endTime2",style:{width:"100%",margin:0},rules:[{required:!0,message:d.formatMessage({id:"\u5FC5\u586B"})}],children:(0,t.jsx)(Y.Z,{style:{width:"100%"},options:X(60).map(function(l){return{value:l,label:l}})})})]})]})})})},Ne=Le,Ve=r(5726),$e=r.n(Ve),We=r(38525),ze=function(n){var d=J.Z.useToken(),u=d.token,c=n.items,C=n.onChange,p=(0,F.useState)(n.value),j=M()(p,2),l=j[0],s=j[1],h=function(g){C&&C(g),s(g)};return(0,F.useEffect)(function(){s(n.value)},[JSON.stringify(n)]),(0,t.jsx)(ne.Z,{size:30,children:c==null?void 0:c.map(function(v){return(0,t.jsx)("div",{onClick:function(){return h(v==null?void 0:v.value)},children:(0,t.jsx)(We.Z,{style:{display:"flex",alignItems:"center",cursor:"pointer"},color:(v==null?void 0:v.value)===l?u.colorPrimary:"#0D517E",text:(0,t.jsx)("div",{style:{color:(v==null?void 0:v.value)===l?u.colorPrimary:"white"},children:v.label})})})})})},Oe=ze,Ye=["data","columns","showAdd","showEdit","showClear","showDelete","onChange","tabValue","onChangeTabs","strategyList","correlationList","maxLength"],Ue=["title","editable","children","dataIndex","record","handleSave","inputType","editing","options"],Ge=function(n){var d=n.data,u=d===void 0?[]:d,c=n.columns,C=n.showAdd,p=n.showEdit,j=n.showClear,l=n.showDelete,s=n.onChange,h=n.tabValue,v=n.onChangeTabs,g=n.strategyList,f=n.correlationList,E=n.maxLength,N=ue()(n,Ye),x=(0,oe.useIntl)(),W=J.Z.useToken(),U=W.token,R=H.Z.useForm(),D=M()(R,1),b=D[0],Z=(0,F.useState)(u),L=M()(Z,2),o=L[0],T=L[1],w=(0,F.useState)(c),z=M()(w,2),G=z[0],qe=z[1],_e=(0,F.useState)(-1),me=M()(_e,2),re=me[0],q=me[1],ie=function(a){return a.key===re},he=re>0,et=function(a){var i=a.title,m=a.editable,e=a.children,B=a.dataIndex,I=a.record,V=a.handleSave,K=a.inputType,ge=K===void 0?"Input":K,A=a.editing,P=a.options,ct=ue()(a,Ue),vt=function(){var _={style:{width:"100%"}};switch(ge){case"InputNumber":return(0,t.jsx)(Ie.Z,S()({},_));case"CustomDatePicker":return(0,t.jsx)(Ne,S()({},_));case"Select":return(0,t.jsx)(Y.Z,S()({options:P},_));case"DatePicker":return(0,t.jsx)(Ze.Z,{options:P});default:return(0,t.jsx)(Ae.Z,S()({},_))}};return(0,t.jsx)("td",S()(S()({},ct),{},{children:A?(0,t.jsx)(H.Z.Item,{name:B,style:{margin:0},rules:[{required:!0,message:"".concat(i," ").concat(x.formatMessage({id:"\u662F\u5FC5\u586B\u7684!"}),"!")}],children:vt()}):e}))},tt=function(a){var i=o.findIndex(function(e){return(e==null?void 0:e.key)===a}),m=(0,$.kI)(o);m[i]={},T(m),s(m)},nt=function(a){var i,m=o.findIndex(function(B){return(B==null?void 0:B.key)===a}),e=(0,$.kI)(o);e[m]=null,e=(i=e)===null||i===void 0?void 0:i.filter(function(B){return B}),T(e),s(e)},at=function(){var y=te()(O()().mark(function a(i){var m,e,B,I,V,K;return O()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,b.validateFields();case 3:m=A.sent,e=ee()(o),B=e.findIndex(function(P){return(P==null?void 0:P.key)===i}),B>-1?(I=(0,$.kI)(G),V=(0,$.kI)(m),I==null||I.forEach(function(P){P.editable&&(P.inputType==="DatePicker"?V[P.dataIndex]=le()(V[P.dataIndex]).format("YYYY-MM-DD"):V[P.dataIndex]=V[P.dataIndex])}),K=e[B],e.splice(B,1,S()(S()({},K),V)),T(e),s(e),q("")):(e.push(m),T(e),s(e),q("")),A.next=12;break;case 9:A.prev=9,A.t0=A.catch(0),console.log("Validate Failed:",A.t0);case 12:case"end":return A.stop()}},a,null,[[0,9]])}));return function(i){return y.apply(this,arguments)}}(),lt=function(a){var i=(0,$.kI)(G),m={};i==null||i.forEach(function(e){e.editable&&(e.inputType==="DatePicker"?m[e.dataIndex]=$e()(a[e.dataIndex]):m[e.dataIndex]=a[e.dataIndex])}),b.setFieldsValue(m),q(a==null?void 0:a.key)},rt=function(){var a,i=(0,$.kI)(u);i=(a=i)===null||a===void 0?void 0:a.map(function(m,e){return S()(S()({},m),{},{key:e+1})}),T(i),s(i)},it=function(){var a=(0,$.kI)(c||[]);(p||j||l)&&a.push({title:x.formatMessage({id:"\u64CD\u4F5C"}),dataIndex:"operation",align:"center",render:function(m,e){return(0,t.jsxs)(ne.Z,{size:20,children:[p&&(0,t.jsx)("div",{type:"link",onClick:function(){return ie(e)?at(e==null?void 0:e.key):lt(e)},style:{color:U.colorPrimary,cursor:"pointer"},children:ie(e)?x.formatMessage({id:"\u4FDD\u5B58"}):x.formatMessage({id:"\u7F16\u8F91"})}),j&&(0,t.jsx)(ce.Z,{title:"".concat(x.formatMessage({id:"\u786E\u8BA4\u6E05\u7A7A"}),"?"),onConfirm:function(){he?ae.ZP.error(x.formatMessage({id:"\u5F53\u524D\u5728\u7F16\u8F91\u72B6\u6001\uFF0C\u4E0D\u53EF\u64CD\u4F5C"})):tt(e==null?void 0:e.key)},children:(0,t.jsx)("div",{type:"link",style:{color:"#F7A037",cursor:"pointer"},children:x.formatMessage({id:"\u6E05\u7A7A"})})}),l&&(0,t.jsx)(ce.Z,{title:"".concat(x.formatMessage({id:"\u786E\u8BA4\u5220\u9664"}),"?"),onConfirm:function(){nt(e==null?void 0:e.key)},children:(0,t.jsx)("div",{type:"link",style:{color:"#F03535",cursor:"pointer"},children:x.formatMessage({id:"\u5220\u9664"})})})]})}}),qe(a)},ot=function(){var y=te()(O()().mark(function a(){var i,m,e;return O()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!((o==null?void 0:o.length)>=E)){I.next=3;break}return ae.ZP.error(x.formatMessage({id:"\u6700\u591A\u53EF\u914D\u7F6E{count}\u6761\u7B56\u7565\uFF01"},{count:E})),I.abrupt("return");case 3:if(!he){I.next=7;break}ae.ZP.error(x.formatMessage({id:"\u5F53\u524D\u5728\u7F16\u8F91\u72B6\u6001\uFF0C\u4E0D\u53EF\u64CD\u4F5C"})),I.next=15;break;case 7:return i=(0,$.kI)(o),m=i.map(function(V){return V.key}),e=Math.max.apply(Math,ee()(m))+1,i.push({key:e}),I.next=13,b.resetFields();case 13:T(i),q(e);case 15:case"end":return I.stop()}},a)}));return function(){return y.apply(this,arguments)}}(),st=function(a){var i=ee()(o),m=i.findIndex(function(B){return a.key===B.key}),e=i[m];i.splice(m,1,S()(S()({},e),a)),T(i),s(i)},dt={body:{cell:et}},ut=G.map(function(y){return y.editable?S()(S()({},y),{},{onCell:function(i){return{options:y.options,inputType:y.inputType,record:i,editable:y.editable,dataIndex:y.dataIndex,title:y.title,editing:ie(i),handleSave:st}}}):y});return(0,F.useEffect)(function(){it()},[re,o,j,p,l]),(0,F.useEffect)(function(){rt()},[u]),(0,t.jsxs)(ne.Z,{direction:"vertical",size:20,style:{width:"100%"},children:[(0,t.jsxs)(Pe.Z,{justify:"space-between",children:[(0,t.jsx)(Oe,{value:h,items:g,onChange:v}),(0,t.jsx)(Re.ZP,{style:{background:"linear-gradient(90deg, #0787DB 0%, #034FB4 100%)",border:"none"},onClick:ot,disabled:!C,children:x.formatMessage({id:"\u65B0\u589E"})})]}),(0,t.jsx)(H.Z,{form:b,component:!1,onValuesChange:function(a,i){if((f==null?void 0:f.length)>0&&Object.keys(a)[0]===f[0]&&(o==null?void 0:o.length)>0){var m=o.find(function(e){return e[f[0]]===Object.values(a)[0]});m?b.setFieldsValue(de()({},f[1],m[f[1]])):b.setFieldsValue(de()({},f[1],void 0))}},children:(0,t.jsx)(Me.Z,S()({components:dt,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:o,columns:ut,pagination:!1},N))})]})},ve={};ve.EditRowTable=Ge;var Ke=ve,fe={outer:"outer___gIdC8",imgList:"imgList___MVQmU"},Qe=function(n){var d,u=n.img,c=(0,F.useState)(null),C=M()(c,2),p=C[0],j=C[1],l=(0,F.useRef)(null),s=(0,F.useRef)(null),h=(0,F.useRef)(null),v=(0,F.useState)(0),g=M()(v,2),f=g[0],E=g[1],N=(0,F.useState)(0),x=M()(N,2),W=x[0],U=x[1],R=(0,F.useState)(0),D=M()(R,2),b=D[0],Z=D[1],L=function(){var T,w,z=l==null||(T=l.current)===null||T===void 0||(T=T.parentElement)===null||T===void 0?void 0:T.clientWidth,G=l==null||(w=l.current)===null||w===void 0||(w=w.parentElement)===null||w===void 0?void 0:w.clientHeight;E(z),U(G)};return(0,F.useEffect)(function(){var o,T=h==null||(o=h.current)===null||o===void 0?void 0:o.clientWidth;f<T?Z(10):Z(Math.floor(f/T)*10)},[W]),(0,F.useEffect)(function(){var o,T=s==null||(o=s.current)===null||o===void 0?void 0:o.clientWidth,w=0;p&&(clearInterval(p),j(null));var z=null;z=setInterval(function(){s.current&&(s.current.style.right="-".concat(w,"px"),w+50>T-f&&setTimeout(function(){w=0},0),w=w+.3)},10),j(z)},[b,f]),(0,F.useEffect)(function(){setTimeout(function(){L()},500)},[]),(0,t.jsx)("div",{ref:l,className:fe.outer,style:{height:W,overflow:"hidden"},children:(0,t.jsxs)("div",{ref:s,className:fe.imgList,style:{height:"100%",display:"flex"},children:[(0,t.jsx)("img",{src:u,ref:h,style:{height:"100%"}}),b>0&&((d=new Array(b).fill(0))===null||d===void 0?void 0:d.map(function(o){return(0,t.jsx)("img",{src:u,style:{height:"100%"}})}))]})})},Je=Qe,Xe=null,yt=function(n){var d=n.freezeTime,u=n.children,c=n.onClick,C=_objectWithoutProperties(n,Xe),p=useState(!1),j=_slicedToArray(p,2),l=j[0],s=j[1],h=function(){s(!0),c(),setTimeout(function(){s(!1)},d*1e3)};return _jsx(Button,_objectSpread(_objectSpread({},C),{},{disabled:l,onClick:h,children:u}))},xt=null,Tt={table:"table___w76Wq",tableHeader:"tableHeader___cfHcU",tableHeaderTitle:"tableHeaderTitle___LCWBi",tableOuterContent:"tableOuterContent___Lkw0u",tableContent:"tableContent___PY4Db",tableContentRow:"tableContentRow___qIUqe",tableContentCol:"tableContentCol___ZeqOA"},bt=function(n){var d=n.color,u=d===void 0?"white":d,c=n.columns,C=n.dataSource,p=useState(null),j=_slicedToArray(p,2),l=j[0],s=j[1],h=useRef(null),v=useRef(null),g=useRef(null),f=useState(0),E=_slicedToArray(f,2),N=E[0],x=E[1],W=function(){var D,b=g==null||(D=g.current)===null||D===void 0?void 0:D.scrollHeight,Z=0,L=null;L=setInterval(function(){var o;g!=null&&(o=g.current)!==null&&o!==void 0&&o.style&&(g.current.style.top="-".concat(Z,"px"),Z>=b-5&&(Z=0),Z++)},50),s(L)},U=function(){var D,b,Z,L=h==null||(D=h.current)===null||D===void 0||(D=D.parentElement)===null||D===void 0?void 0:D.clientHeight,o=v==null||(b=v.current)===null||b===void 0?void 0:b.clientHeight,T=g==null||(Z=g.current)===null||Z===void 0?void 0:Z.scrollHeight;x(L-o),T>L-o&&W()};return useEffect(function(){l&&(clearInterval(l),s(null)),U()},[C]),_jsxs("div",{className:styles.table,ref:h,children:[_jsx("div",{className:styles.tableHeader,ref:v,children:c==null?void 0:c.map(function(R){return _jsx("div",{className:styles.tableHeaderTitle,style:{color:u},children:R==null?void 0:R.title})})}),_jsx("div",{className:styles.tableOuterContent,style:{height:N},children:_jsx("div",{className:styles.tableContent,ref:g,children:C==null?void 0:C.map(function(R){var D;return _jsx("div",{className:styles.tableContentRow,children:c==null||(D=c.map(function(b){return b.key}))===null||D===void 0?void 0:D.map(function(b){return _jsx("div",{className:styles.tableContentCol,style:{color:u},children:R[b]})})})})})})]})},Ft=null}}]);
