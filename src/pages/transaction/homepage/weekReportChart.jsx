import ReactECharts from "echarts-for-react";
import { useEffect, useState } from "react";
import { theme as antdTheme } from "antd";
import { useSelector } from "umi";

const WeekReportChart = () => {
    const { token } = antdTheme.useToken();
    const { theme } = useSelector(state => state.global);
    const [options, setOptions] = useState({});
    
    const getOptions = () => {
        setOptions({
            color: ["#9E87FF", '#73DDFF', '#fe9a8b', '#F56948', '#00C297'],
            tooltip: {
              trigger: 'axis',
              axisPointer: {
                type: 'cross',
                crossStyle: {
                  color: '#999'
                }
              }
            },
            grid: {
                left: 50,
                right: 50
            },
            legend: {
              data: ['全网申报容量', '煤机申报容量', '气机申报容量', '新能源申报容量', '市场参与率'],
              textStyle: {
                color: token.color11
              }
            },
            xAxis: [
              {
                type: 'category',
                data: [
                  '02-27 01:00', '02-27 02:00', '02-27 03:00', '02-27 04:00', '02-27 05:00', '02-27 06:00', '02-27 07:00', '02-27 08:00', '02-27 09:00', '02-27 10:00', '02-27 11:00', '02-27 12:00', '02-27 13:00', '02-27 14:00', '02-27 15:00', '02-27 16:00', '02-27 17:00', '02-27 18:00', '02-27 19:00', '02-27 20:00', '02-27 21:00', '02-27 22:00', '02-27 23:00',
                              '02-28 01:00', '02-28 02:00', '02-28 03:00', '02-28 04:00', '02-28 05:00', '02-28 06:00', '02-28 07:00', '02-28 08:00', '02-28 09:00', '02-28 10:00', '02-28 11:00', '02-28 12:00', '02-28 13:00', '02-28 14:00', '02-28 15:00', '02-28 16:00', '02-28 17:00', '02-28 18:00', '02-28 19:00', '02-28 20:00', '02-28 21:00', '02-28 22:00', '02-28 23:00',
                              '02-29 01:00', '02-29 02:00', '02-29 03:00', '02-29 04:00', '02-29 05:00', '02-29 06:00', '02-29 07:00', '02-29 08:00', '02-29 09:00', '02-29 10:00', '02-29 11:00', '02-29 12:00', '02-29 13:00', '02-29 14:00', '02-29 15:00', '02-29 16:00', '02-29 17:00', '02-29 18:00', '02-29 19:00', '02-29 20:00', '02-29 21:00', '02-29 22:00', '02-29 23:00',
                              '03-01 01:00', '03-01 02:00', '03-01 03:00', '03-01 04:00', '03-01 05:00', '03-01 06:00', '03-01 07:00', '03-01 08:00', '03-01 09:00', '03-01 10:00', '03-01 11:00', '03-01 12:00', '03-01 13:00', '03-01 14:00', '03-01 15:00', '03-01 16:00', '03-01 17:00', '03-01 18:00', '03-01 19:00', '03-01 20:00', '03-01 21:00', '03-01 22:00', '03-01 23:00',
                              '03-02 01:00', '03-02 02:00', '03-02 03:00', '03-02 04:00', '03-02 05:00', '03-02 06:00', '03-02 07:00', '03-02 08:00', '03-02 09:00', '03-02 10:00', '03-02 11:00', '03-02 12:00', '03-02 13:00', '03-02 14:00', '03-02 15:00', '03-02 16:00', '03-02 17:00', '03-02 18:00', '03-02 19:00', '03-02 20:00', '03-02 21:00', '03-02 22:00', '03-02 23:00',
                              '03-03 01:00', '03-03 02:00', '03-03 03:00', '03-03 04:00', '03-03 05:00', '03-03 06:00', '03-03 07:00', '03-03 08:00', '03-03 09:00', '03-03 10:00', '03-03 11:00', '03-03 12:00', '03-03 13:00', '03-03 14:00', '03-03 15:00', '03-03 16:00', '03-03 17:00', '03-03 18:00', '03-03 19:00', '03-03 20:00', '03-03 21:00', '03-03 22:00', '03-03 23:00',
                              '03-04 01:00', '03-04 02:00', '03-04 03:00', '03-04 04:00', '03-04 05:00', '03-04 06:00', '03-04 07:00', '03-04 08:00', '03-04 09:00', '03-04 10:00', '03-04 11:00', '03-04 12:00', '03-04 13:00', '03-04 14:00', '03-04 15:00', '03-04 16:00', '03-04 17:00', '03-04 18:00', '03-04 19:00', '03-04 20:00', '03-04 21:00', '03-04 22:00', '03-04 23:00',
                ],
                axisPointer: {
                  type: 'shadow'
                }
              }
            ],
            yAxis: [
              {
                type: 'value',
                name: 'MW',
                min: 0,
                max: 25000,
                interval: 5000,
              },
              {
                type: 'value',
                name: '%',
                min: 0,
                max: 100,
                interval: 20
              }
            ],
             dataZoom: [
                {
                    show: true,
                    start: 0,
                    end: 7
                },
            ],
            series: [
              {
                name: '全网申报容量',
                type: 'bar',
                tooltip: {
                  valueFormatter: function (value) {
                    return value + ' MW';
                  }
                },
                data: [
                  20000,19000,18000,20000,19000,18000,20000,19000,18000,20000,19000,18000,20000,19000,18000,21000,22000,20000,21000,20000,22000,18000,19000,
                  20000,19000,18000,20000,19000,18000,20000,19000,18000,20000,19000,18000,20000,19000,18000,21000,22000,20000,21000,20000,22000,18000,19000,
                  20000,19000,18000,20000,19000,18000,20000,19000,18000,20000,19000,18000,20000,19000,18000,21000,22000,20000,21000,20000,22000,18000,19000,
                  20000,19000,18000,20000,19000,18000,20000,19000,18000,20000,19000,18000,20000,19000,18000,21000,22000,20000,21000,20000,22000,18000,19000,
                  20000,19000,18000,20000,19000,18000,20000,19000,18000,20000,19000,18000,20000,19000,18000,21000,22000,20000,21000,20000,22000,18000,19000,
                  20000,19000,18000,20000,19000,18000,20000,19000,18000,20000,19000,18000,20000,19000,18000,21000,22000,20000,21000,20000,22000,18000,19000,
                  20000,19000,18000,20000,19000,18000,20000,19000,18000,20000,19000,18000,20000,19000,18000,21000,22000,20000,21000,20000,22000,18000,19000,
                ]
              },
              {
                name: '煤机申报容量',
                type: 'bar',
                tooltip: {
                  valueFormatter: function (value) {
                    return value + ' MW';
                  }
                },
                data: [
                  3000,2850,2700,3000,2850,2850,3000,3000,2850,2700,3000,2850,2850,3000,3000,2850,2700,3000,2850,2850,3000,3000,2850,
                  3000,2850,2700,3000,2850,2850,3000,3000,2850,2700,3000,2850,2850,3000,3000,2850,2700,3000,2850,2850,3000,3000,2850,
                  3000,2850,2700,3000,2850,2850,3000,3000,2850,2700,3000,2850,2850,3000,3000,2850,2700,3000,2850,2850,3000,3000,2850,
                  3000,2850,2700,3000,2850,2850,3000,3000,2850,2700,3000,2850,2850,3000,3000,2850,2700,3000,2850,2850,3000,3000,2850,
                  3000,2850,2700,3000,2850,2850,3000,3000,2850,2700,3000,2850,2850,3000,3000,2850,2700,3000,2850,2850,3000,3000,2850,
                  3000,2850,2700,3000,2850,2850,3000,3000,2850,2700,3000,2850,2850,3000,3000,2850,2700,3000,2850,2850,3000,3000,2850,
                  3000,2850,2700,3000,2850,2850,3000,3000,2850,2700,3000,2850,2850,3000,3000,2850,2700,3000,2850,2850,3000,3000,2850,
                ]
              },
              {
                name: '气机申报容量',
                type: 'bar',
                tooltip: {
                  valueFormatter: function (value) {
                    return value + ' MW';
                  }
                },
                data: [
                  1000,900,1000,800,900,1000,900,800,900,1000,900,800,1000,1000,900,900,900,800,1000,1000,900,950,950,  
                  1000,900,1000,800,900,1000,900,800,900,1000,900,800,1000,1000,900,900,900,800,1000,1000,900,950,950,
                  1000,900,1000,800,900,1000,900,800,900,1000,900,800,1000,1000,900,900,900,800,1000,1000,900,950,950,
                  1000,900,1000,800,900,1000,900,800,900,1000,900,800,1000,1000,900,900,900,800,1000,1000,900,950,950,
                  1000,900,1000,800,900,1000,900,800,900,1000,900,800,1000,1000,900,900,900,800,1000,1000,900,950,1000,
                  1000,900,1000,800,900,1000,900,800,900,1000,900,800,1000,1000,900,900,900,800,1000,1000,900,950,1000,
                  1000,900,1000,800,900,1000,900,800,900,1000,900,800,1000,1000,900,900,900,800,1000,1000,900,950,1000
                ]
              },
              {
                name: '新能源申报容量',
                type: 'bar',
                tooltip: {
                  valueFormatter: function (value) {
                    return value + ' MW';
                  }
                },
                data: [
                  16000,18000,17000,16000,18000,19000,18000,18000,17000,16000,18000,17000,16000,18000,19000,18000,18000,17000,16000,18000,17000,16000,18000,19000,18000,18000,
                  16000,18000,17000,16000,18000,19000,18000,18000,17000,16000,18000,17000,16000,18000,19000,18000,18000,17000,16000,18000,17000,16000,18000,19000,18000,18000,
                  16000,18000,17000,16000,18000,19000,18000,18000,17000,16000,18000,17000,16000,18000,19000,18000,18000,17000,16000,18000,17000,16000,18000,19000,18000,18000,
                  16000,18000,17000,16000,18000,19000,18000,18000,17000,16000,18000,17000,16000,18000,19000,18000,18000,17000,16000,18000,17000,16000,18000,19000,18000,18000,
                  16000,18000,17000,16000,18000,19000,18000,18000,17000,16000,18000,17000,16000,18000,19000,18000,18000,17000,16000,18000,17000,16000,18000,19000,18000,18000,
                  16000,18000,17000,16000,18000,19000,18000,18000,17000,16000,18000,17000,16000,18000,19000,18000,18000,17000,16000,18000,17000,16000,18000,19000,18000,18000,
                  16000,18000,17000,16000,18000,19000,18000,18000,17000,16000,18000,17000,16000,18000,19000,18000,18000,17000,16000,18000,17000,16000,18000,19000,18000,18000,
                ]
              },
              {
                name: '市场参与率',
                type: 'line',
                yAxisIndex: 1,
                smooth: false,
                tooltip: {
                  valueFormatter: function (value) {
                    return value + ' %';
                  }
                },
                data: [
                  78,80,79,80,79,78,79,78,76,79,76,85,78,80,79,80,79,78,79,78,76,79,76,85,
                  78,80,79,80,79,78,79,78,76,79,76,85,78,80,79,80,79,78,79,78,76,79,76,85,
                  78,80,79,80,79,78,79,78,76,79,76,85,78,80,79,80,79,78,79,78,76,79,76,85,
                  78,80,79,80,79,78,79,78,76,79,76,85,78,80,79,80,79,78,79,78,76,79,76,85,
                  78,80,79,80,79,78,79,78,76,79,76,85,78,80,79,80,79,78,79,78,76,79,76,85,
                  78,80,79,80,79,78,79,78,76,79,76,85,78,80,79,80,79,78,79,78,76,79,76,85,
                  78,80,79,80,79,78,79,78,76,79,76,85,78,80,79,80,79,78,79,78,76,79,76,85,
                ]
              }
            ]
        });
    }

    useEffect(() => {
        getOptions();
    }, [theme])

    return (
        <ReactECharts  
            option={options} 
            style={{ width: '100%', height: '400px' }} 
        />
    )
}

export default WeekReportChart;